<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 	xmlns:f="http://java.sun.com/jsf/core" 	xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Available Rooms</title>
        <f:view>
         <f:metadata>
             <f:viewParam id="startDate" name="startDate" value="#{availableRoom.startDate}" required="true"/>
             <f:viewParam id="endDate" name="endDate" value="#{availableRoom.endDate}" required="true"/>
             <f:viewParam id="numOfPeople" name="numOfPeople" value="#{availableRoom.numOfPeople}" required="true"/>
   		</f:metadata>
    </f:view>
</h:head>
<h:body>
	<p:outputLabel value="Room Info" />
	<h2>Room Info</h2>
	#{availableRoom.startDate} #{availableRoom.endDate}
	Number of People: #{availableRoom.numOfPeople}
	<h:form>
	<p:dataTable  value="#{availableRoom.rooms}" var="room" border="2">
		<p:column rendered="false">
			<f:facet name="header">Room ID</f:facet>
         #{room.rid}
      </p:column>
		<p:column>
			<f:facet name="header">Room Name</f:facet>
         #{room.rname}
      </p:column>
		<p:column>
			<f:facet name="header">Capacity</f:facet>
           #{room.rcapacity}
       </p:column>
		<p:column>
			<f:facet name="header">Beds</f:facet>
           #{room.rbeds}
       </p:column>
		<p:column>
			<f:facet name="header">Price</f:facet>
           #{room.rprice}
       </p:column>
       <p:column style="text-align: center">
            <h:commandButton action="#{bookingManage.select(room.rid, availableRoom.startDate, availableRoom.endDate)}" value="Select" >
            	<f:param name="rid" value="#{room.rid}"/>
            	<f:param name="startDate" value="#{availableRoom.startDate}"/>
            	<f:param name="endDate" value="#{availableRoom.endDate}"/>
            </h:commandButton>
        </p:column>
	</p:dataTable>
	</h:form>
</h:body>
</html>
